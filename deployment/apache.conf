<VirtualHost *:80>
    ServerName example.com
    Redirect permanent / https://example.com/
</VirtualHost>

<VirtualHost *:443>
    ServerName example.com

    SSLEngine on
    SSLCertificateFile /etc/letsencrypt/live/example.com/fullchain.pem # Replace with your cert path
    SSLCertificateKeyFile /etc/letsencrypt/live/example.com/privkey.pem # Replace with your key path

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8000/
    ProxyPassReverse / http://127.0.0.1:8000/

    # Optional: Serve static files directly with Apache
    Alias /static /path/to/your/app/static
    <Directory /path/to/your/app/static>
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/rocket-app-error.log
    CustomLog ${APACHE_LOG_DIR}/rocket-app-access.log combined
</VirtualHost>
